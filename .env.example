# ==============================================
# RPS-ARENA Environment Configuration
# ==============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ==============================================
# Server Configuration
# ==============================================
PORT=3000
ADMIN_PORT=3001
NODE_ENV=development

# Note: DEV_MODE has been removed. Instead, use the admin port (3001) for testing.
# Port 3000 = Production (payments required)
# Port 3001 = Admin/Testing (free joins, bot management)
# IMPORTANT: On Railway, only PORT 3000 is exposed. Admin port is not accessible.

# ==============================================
# Database Configuration
# ==============================================
DATABASE_PATH=./data/rps-arena.db

# Automated backups (SQLite online backup)
# Backups stored in ./backups/ directory
# BACKUP_INTERVAL_HOURS=1
# BACKUP_KEEP_COUNT=24

# ==============================================
# Session Configuration
# ==============================================
# Session expiry in hours (default: 24)
SESSION_EXPIRY_HOURS=24

# ==============================================
# Game Tuning (optional overrides)
# ==============================================
GAME_TICK_RATE=30
GAME_ARENA_WIDTH=1600
GAME_ARENA_HEIGHT=900
GAME_MAX_SPEED=450
GAME_PLAYER_RADIUS=22
COUNTDOWN_DURATION=3

# ==============================================
# Payment Configuration (optional overrides)
# ==============================================
# Values in micro-USDC (1 USDC = 1,000,000)
# BUY_IN_AMOUNT=1000000
# WINNER_PAYOUT=2400000
# TREASURY_CUT=600000

# ==============================================
# Rate Limiting (optional overrides)
# ==============================================
# RATE_LIMIT_INPUT=120
# RATE_LIMIT_OTHER=10
# MAX_CONNECTIONS_PER_IP=3

# ==============================================
# Blockchain Configuration (Base Mainnet)
# ==============================================
CHAIN_ID=8453
USDC_CONTRACT_ADDRESS=0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913

# RPC Provider
# REQUIRED: Use a reliable RPC provider for production
# Free tier: https://mainnet.base.org (rate limited, not recommended for production)
# Recommended: Alchemy or Infura with API key
# Example: https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY
BASE_RPC_URL=https://mainnet.base.org

# Fallback RPCs (used automatically if primary fails)
# These are built-in defaults, but you can override:
# BASE_RPC_FALLBACK_1=https://base.publicnode.com
# BASE_RPC_FALLBACK_2=https://1rpc.io/base

# ==============================================
# Wallet Configuration
# ==============================================
# CRITICAL SECURITY: Generate these securely before production!
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# Treasury wallet - pays winners, receives treasury cut
# Generate a new wallet and fund it with USDC + ETH for gas
TREASURY_MNEMONIC=your twelve word mnemonic seed phrase goes here for treasury wallet

# Lobby wallet seed - derives deposit wallets for each lobby
LOBBY_WALLET_SEED=your twelve word mnemonic seed phrase goes here for lobby wallets

# Encryption key for wallet private keys at rest (32 bytes hex)
WALLET_ENCRYPTION_KEY=your-32-byte-encryption-key-here

# ==============================================
# Discord Alerts (optional but recommended)
# ==============================================
# Create webhooks in Discord: Server Settings > Integrations > Webhooks

# Critical alerts - payout failures, server errors, low balance
DISCORD_WEBHOOK_URL=

# Activity logs - match starts, completions, player joins
DISCORD_ACTIVITY_WEBHOOK_URL=

# ==============================================
# Error Tracking (optional but recommended)
# ==============================================
# Sentry DSN for error tracking
# Get from: https://sentry.io/ (free tier available)
SENTRY_DSN=

# ==============================================
# Logging Configuration
# ==============================================
# Log level: error, warn, info, debug
# Production should use 'info' or 'warn'
LOG_LEVEL=info

# Debug flags (set to 'true' to enable verbose logging)
# DEBUG_PHYSICS=false
# DEBUG_MATCH=false

# ==============================================
# Reconnection Configuration
# ==============================================
RECONNECT_GRACE_PERIOD=30
